<html lang="en">
    <head>
        <title>Library App</title>
    </head>
    <body>
        <div id="container"> 
            <h1>Library App</h1>
            <div id="bookList"></div>
            <form id="addBookForm">
                <input type="text" id="title" placeholder="Title" required>
                <input type="text" id="author" placeholder="Author"  required>
                <input type="text" id="isbn" placeholder="ISBN"required> 
                <button type="submit">Add Book</button>
            </form>
        </div>
    </body>
    <script>
        // Book constructor
        function Book(title,author,isbn) {
            this.title = title;
            this.author = author;
            this.isbn = isbn;
            this.isCheckOut = false;
        }

        //Library object
        const library = {
            books: [],

            addBook: function(title,author,isbn) {
                const newBook = new Book(title, author, isbn);
                this.books.push(newBook);
                this.displayBooks();
            },

            checkOutBook: function(isbn){
                const book = this.findBook(isbn);
                if(book && !book.isCheckedOut){
                    book.isCheckedOut = true;
                    this.displayBooks();
                }
            }, 

            returnBook: function (isbn) {
                const book = this.findBook(isbn);
                if (book && book.isCheckedOut) {
                    book.isCheckedOut = false;
                    this.displayBooks();
                }
            },

            findBook: function(isbn) {
                return this.books.find(book => book.isbn === isbn);
            },

            displayBooks: function(){
                const bookList=document.getElementById('bookList');
                bookList.innerHTML = '';
                this.books.forEach(book=> {
                    const bookItem = document.createElement('div');
                    bookItem.className = 'book-item';
                    bookItem.innerHTML = `
                        "${book.title}" by ${book.author} (ISBN: ${book.isbn}) - 
                        ${book.isCheckedOut ? 'Checked Out' : 'Available'}
                        <button onclick="library.${book.isCheckedOut ? 'returnBook' : 'checkOutBook'}('${book.isbn}')">
                            ${book.isCheckedOut ? 'Return' : 'Check Out'}
                        </button>
                    `;
                    bookList.appendChild(bookItem);
                });
            }
        };

        //Event Listener for adding a new book
        document.getElementById('addBookForm').addEventListener('submit', function(e){
            e.preventDefault();
            const title = document.getElementById('title').value;
            const author = document.getElementById('author').value;
            const isbn = document.getElementById('isbn').value;
            library.addBook(title, author, isbn);
            this.reset();
        });

        //Add some initial books
        library.addBook("The Great Gatsby", "F. Scott Fitzgerald", "93829583942829");
        library.addBook("To Kill a Mockingbird", "Harper Lee", "23984839283");
        library.addBook("1984", "George Orwell", "9780451524935");

        //Initial display 
        library.displayBooks();
    </script>
    </html>